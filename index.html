<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mini App Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="A single file web app that shows what you can build with only HTML, CSS, JavaScript and GitHub Pages."
  />

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      --bg: #020617;
      --bg-soft: #030711;
      --bg-elevated: #020617;
      --sidebar: #020617;
      --border: #1f2937;
      --accent: #6366f1;
      --accent-soft: rgba(99, 102, 241, 0.1);
      --accent-strong: #4f46e5;
      --accent-alt: #22d3ee;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --danger: #ef4444;
      --success: #22c55e;
    }

    :root[data-theme="light"] {
      --bg: #f3f4f6;
      --bg-soft: #e5e7eb;
      --bg-elevated: #ffffff;
      --sidebar: #111827;
      --border: #e5e7eb;
      --accent: #4f46e5;
      --accent-soft: rgba(79, 70, 229, 0.12);
      --accent-strong: #3730a3;
      --accent-alt: #06b6d4;
      --text: #111827;
      --muted: #6b7280;
      --danger: #dc2626;
      --success: #16a34a;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #020617, #020617),
        radial-gradient(circle at bottom right, #020617, #020617);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      -webkit-font-smoothing: antialiased;
    }

    :root[data-theme="light"] body {
      background: var(--bg);
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 0.85em;
      padding: 0.08rem 0.3rem;
      border-radius: 0.3rem;
      background: rgba(15, 23, 42, 0.8);
    }

    :root[data-theme="light"] code {
      background: #e5e7eb;
    }

    .app {
      display: grid;
      grid-template-columns: 250px minmax(0, 1fr);
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      background: linear-gradient(
        135deg,
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.98)
      );
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.9);
      border-radius: 1.4rem;
      margin-top: 1.4rem;
      margin-bottom: 1.4rem;
      overflow: hidden;
      border: 1px solid rgba(15, 23, 42, 0.9);
    }

    :root[data-theme="light"] .app {
      background: #f9fafb;
      border-color: #e5e7eb;
      box-shadow: 0 18px 45px rgba(148, 163, 184, 0.55);
    }

    /* Sidebar */

    .sidebar {
      background: radial-gradient(circle at top, #111827, #020617);
      color: #e5e7eb;
      padding: 1.2rem 1.1rem;
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
      border-right: 1px solid rgba(31, 41, 55, 0.96);
    }

    :root[data-theme="light"] .sidebar {
      background: #111827;
      border-right-color: #020617;
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    .sidebar-logo {
      width: 32px;
      height: 32px;
      border-radius: 0.8rem;
      background:
        radial-gradient(circle at 20% 20%, #ffffff, #4f46e5),
        radial-gradient(circle at 80% 80%, #22d3ee, #020617);
      box-shadow: 0 0 20px rgba(56, 189, 248, 0.65);
    }

    .sidebar-title {
      font-size: 0.98rem;
      font-weight: 600;
    }

    .sidebar-sub {
      font-size: 0.75rem;
      color: #9ca3af;
    }

    .sidebar-section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
      margin-top: 0.2rem;
      margin-bottom: 0.2rem;
    }

    .nav-list {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 0.55rem;
      padding: 0.4rem 0.55rem;
      border-radius: 0.7rem;
      cursor: pointer;
      font-size: 0.82rem;
      color: #e5e7eb;
      border: 1px solid transparent;
    }

    .nav-item:hover {
      background: rgba(15, 23, 42, 0.9);
    }

    .nav-item.active {
      background: rgba(15, 23, 42, 0.96);
      border-color: rgba(79, 70, 229, 0.9);
      box-shadow: 0 0 0 1px rgba(79, 70, 229, 0.3);
    }

    .nav-icon {
      width: 22px;
      height: 22px;
      border-radius: 0.5rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.78rem;
      font-weight: 600;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(55, 65, 81, 0.9);
      color: #a5b4fc;
    }

    .nav-text-main {
      flex: 1;
    }

    .nav-text-label {
      display: block;
      font-size: 0.83rem;
    }

    .nav-text-sub {
      font-size: 0.7rem;
      color: #9ca3af;
    }

    .sidebar-footer {
      margin-top: auto;
      font-size: 0.75rem;
      color: #9ca3af;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .kbd-row {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      flex-wrap: wrap;
    }

    .kbd-row span {
      color: #e5e7eb;
    }

    kbd {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.05rem 0.35rem;
      border-radius: 0.4rem;
      border: 1px solid rgba(75, 85, 99, 0.9);
      font-size: 0.7rem;
      background: rgba(15, 23, 42, 0.96);
      color: #e5e7eb;
    }

    .theme-switch {
      margin-top: 0.3rem;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.25rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.96);
      cursor: pointer;
      color: #e5e7eb;
    }

    .theme-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: var(--accent);
    }

    /* Main area */

    .main {
      padding: 1.35rem 1.5rem 1.4rem;
      background: radial-gradient(circle at top right, #020617, #020617);
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    :root[data-theme="light"] .main {
      background: linear-gradient(to bottom, #f9fafb, #e5e7eb);
    }

    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.8rem;
      margin-bottom: 0.1rem;
    }

    .topbar-left {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .topbar-title {
      font-size: 1.05rem;
      font-weight: 600;
    }

    .topbar-sub {
      font-size: 0.8rem;
      color: var(--muted);
      max-width: 460px;
    }

    .topbar-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      font-size: 0.75rem;
    }

    .badge {
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 0.16rem 0.6rem;
      color: var(--muted);
      background: rgba(15, 23, 42, 0.96);
    }

    :root[data-theme="light"] .badge {
      background: #ffffff;
      border-color: #d1d5db;
    }

    .badge.accent {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: var(--accent);
    }

    .topbar-right {
      display: flex;
      flex-direction: column;
      gap: 0.45rem;
      align-items: flex-end;
      font-size: 0.78rem;
      color: var(--muted);
    }

    .pill {
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 0.25rem 0.7rem;
      background: rgba(15, 23, 42, 0.96);
      font-size: 0.76rem;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    :root[data-theme="light"] .pill {
      background: #ffffff;
      border-color: #d1d5db;
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent-alt);
      box-shadow: 0 0 10px rgba(34, 211, 238, 0.8);
    }

    /* Panels */

    .panels {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.1fr);
      gap: 1rem;
      align-items: flex-start;
    }

    @media (max-width: 980px) {
      .app {
        border-radius: 0;
        margin: 0;
        max-width: 100%;
        grid-template-columns: 220px minmax(0, 1fr);
      }
    }

    @media (max-width: 780px) {
      body {
        display: block;
      }

      .app {
        border-radius: 0;
        grid-template-columns: minmax(0, 1fr);
      }

      .sidebar {
        display: none;
      }

      .main {
        padding-inline: 1rem;
      }

      .panels {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .panel {
      background: var(--bg-elevated);
      border-radius: 1rem;
      border: 1px solid var(--border);
      padding: 0.9rem 1rem;
      box-shadow: 0 16px 35px rgba(15, 23, 42, 0.85);
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 0.25s ease, transform 0.25s ease;
    }

    :root[data-theme="light"] .panel {
      box-shadow: 0 12px 28px rgba(148, 163, 184, 0.55);
    }

    .panel.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.6rem;
      margin-bottom: 0.65rem;
    }

    .panel-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .panel-sub {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .panel-content {
      font-size: 0.82rem;
      color: var(--muted);
    }

    .panel-content p + p {
      margin-top: 0.45rem;
    }

    /* Data Studio */

    .data-summary-row {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.65rem;
      margin-bottom: 0.7rem;
    }

    .data-summary-card {
      border-radius: 0.8rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
      padding: 0.5rem 0.55rem;
      background: radial-gradient(
        circle at top left,
        rgba(129, 140, 248, 0.15),
        rgba(15, 23, 42, 0.98)
      );
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
    }

    :root[data-theme="light"] .data-summary-card {
      background: #ffffff;
      border-color: #e5e7eb;
    }

    .data-summary-label {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .data-summary-value {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .data-summary-meta {
      font-size: 0.7rem;
      color: var(--muted);
    }

    .data-toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: center;
      margin-bottom: 0.55rem;
    }

    .select,
    .search {
      border-radius: 0.6rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
      background: rgba(15, 23, 42, 0.98);
      color: var(--text);
      font-size: 0.8rem;
      padding: 0.3rem 0.4rem;
      outline: none;
    }

    :root[data-theme="light"] .select,
    :root[data-theme="light"] .search {
      background: #ffffff;
      border-color: #d1d5db;
      color: #111827;
    }

    .search {
      min-width: 140px;
    }

    .data-table-wrap {
      border-radius: 0.85rem;
      border: 1px solid rgba(31, 41, 55, 0.96);
      overflow: hidden;
      background: rgba(15, 23, 42, 0.98);
    }

    :root[data-theme="light"] .data-table-wrap {
      background: #ffffff;
      border-color: #e5e7eb;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.78rem;
    }

    thead {
      background: rgba(15, 23, 42, 0.98);
    }

    :root[data-theme="light"] thead {
      background: #f3f4f6;
    }

    th,
    td {
      padding: 0.42rem 0.5rem;
      border-bottom: 1px solid rgba(31, 41, 55, 0.96);
      text-align: left;
    }

    :root[data-theme="light"] th,
    :root[data-theme="light"] td {
      border-bottom-color: #e5e7eb;
    }

    th {
      font-weight: 500;
      color: var(--muted);
      cursor: pointer;
      user-select: none;
    }

    th span.sort-indicator {
      font-size: 0.7rem;
      opacity: 0.7;
      margin-left: 0.18rem;
    }

    tr:nth-child(even) td {
      background: rgba(15, 23, 42, 0.96);
    }

    :root[data-theme="light"] tr:nth-child(even) td {
      background: #f9fafb;
    }

    .pill-status {
      display: inline-flex;
      padding: 0.1rem 0.5rem;
      border-radius: 999px;
      font-size: 0.7rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
    }

    .pill-status.active {
      border-color: rgba(56, 189, 248, 0.9);
      color: #7dd3fc;
      background: rgba(8, 47, 73, 0.9);
    }

    .pill-status.idle {
      border-color: rgba(148, 163, 184, 0.9);
      color: #e5e7eb;
      background: rgba(15, 23, 42, 0.96);
    }

    .pill-status.paused {
      border-color: rgba(249, 115, 22, 0.9);
      color: #fed7aa;
      background: rgba(67, 20, 7, 0.96);
    }

    .tag {
      font-size: 0.7rem;
      padding: 0.08rem 0.4rem;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.96);
      color: var(--muted);
    }

    /* Card Board */

    .card-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 0.6rem;
      max-height: 260px;
      overflow-y: auto;
      padding-right: 0.2rem;
    }

    .note-card {
      border-radius: 0.8rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
      padding: 0.45rem 0.5rem;
      background: rgba(15, 23, 42, 0.98);
      display: flex;
      flex-direction: column;
      gap: 0.22rem;
    }

    :root[data-theme="light"] .note-card {
      background: #ffffff;
      border-color: #e5e7eb;
    }

    .note-title {
      font-size: 0.82rem;
      font-weight: 500;
    }

    .note-body {
      font-size: 0.78rem;
      color: var(--muted);
      white-space: pre-wrap;
    }

    .note-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 0.2rem;
      font-size: 0.7rem;
      color: var(--muted);
    }

    .note-actions {
      display: flex;
      gap: 0.25rem;
    }

    .chip-btn {
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.96);
      padding: 0.12rem 0.45rem;
      font-size: 0.7rem;
      background: rgba(15, 23, 42, 0.98);
      color: var(--muted);
      cursor: pointer;
    }

    :root[data-theme="light"] .chip-btn {
      background: #f9fafb;
      border-color: #d1d5db;
    }

    .chip-btn:hover {
      border-color: var(--accent);
      color: var(--text);
    }

    .chip-btn.danger {
      border-color: rgba(248, 113, 113, 0.9);
      color: #fecaca;
    }

    :root[data-theme="light"] .chip-btn.danger {
      background: #fee2e2;
      color: #b91c1c;
      border-color: #fecaca;
    }

    .note-form {
      margin-top: 0.6rem;
      display: grid;
      gap: 0.4rem;
      font-size: 0.8rem;
    }

    .note-form input,
    .note-form textarea {
      width: 100%;
      border-radius: 0.7rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
      background: rgba(15, 23, 42, 0.98);
      color: var(--text);
      font-size: 0.8rem;
      padding: 0.35rem 0.45rem;
      outline: none;
    }

    :root[data-theme="light"] .note-form input,
    :root[data-theme="light"] .note-form textarea {
      background: #ffffff;
      border-color: #d1d5db;
      color: #111827;
    }

    .note-form textarea {
      min-height: 80px;
      resize: vertical;
    }

    .note-form-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.6rem;
      flex-wrap: wrap;
      font-size: 0.76rem;
    }

    .btn-main {
      border-radius: 999px;
      border: 1px solid var(--accent);
      padding: 0.3rem 0.75rem;
      font-size: 0.8rem;
      background: var(--accent-soft);
      color: var(--accent);
      cursor: pointer;
    }

    .btn-main:hover {
      background: var(--accent);
      color: #ffffff;
    }

    .note-hint {
      font-size: 0.75rem;
      color: var(--muted);
    }

    /* Text Lab */

    .text-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.3fr);
      gap: 0.7rem;
      align-items: flex-start;
    }

    @media (max-width: 1160px) {
      .text-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .text-input-wrap textarea {
      width: 100%;
      min-height: 150px;
      max-height: 260px;
      border-radius: 0.8rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
      background: rgba(15, 23, 42, 0.98);
      color: var(--text);
      font-size: 0.8rem;
      padding: 0.5rem 0.55rem;
      resize: vertical;
      outline: none;
    }

    :root[data-theme="light"] .text-input-wrap textarea {
      background: #ffffff;
      border-color: #d1d5db;
      color: #111827;
    }

    .text-actions {
      margin-top: 0.4rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
    }

    .chip-action {
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.96);
      padding: 0.2rem 0.6rem;
      font-size: 0.76rem;
      background: rgba(15, 23, 42, 0.98);
      color: var(--muted);
      cursor: pointer;
    }

    :root[data-theme="light"] .chip-action {
      background: #f9fafb;
      border-color: #d1d5db;
    }

    .chip-action:hover {
      border-color: var(--accent);
      color: var(--text);
    }

    .stats-card {
      border-radius: 0.9rem;
      border: 1px solid rgba(55, 65, 81, 0.96);
      background: rgba(15, 23, 42, 0.98);
      padding: 0.6rem 0.6rem 0.65rem;
      font-size: 0.8rem;
    }

    :root[data-theme="light"] .stats-card {
      background: #ffffff;
      border-color: #e5e7eb;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.45rem;
      margin-top: 0.35rem;
    }

    .stat-item span {
      display: block;
    }

    .stat-label {
      font-size: 0.74rem;
      color: var(--muted);
    }

    .stat-value {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .stats-note {
      margin-top: 0.5rem;
      font-size: 0.75rem;
      color: var(--muted);
    }

    .preview-card {
      margin-top: 0.55rem;
      border-radius: 0.75rem;
      border: 1px dashed rgba(75, 85, 99, 0.96);
      padding: 0.45rem 0.5rem;
      font-size: 0.78rem;
      color: var(--muted);
      max-height: 90px;
      overflow-y: auto;
      background: rgba(15, 23, 42, 0.98);
    }

    :root[data-theme="light"] .preview-card {
      background: #f9fafb;
      border-style: solid;
    }

    /* Command palette */

    .command-overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.65);
      display: none;
      align-items: flex-start;
      justify-content: center;
      padding-top: 7vh;
      z-index: 40;
    }

    .command-overlay.visible {
      display: flex;
    }

    .command-panel {
      width: 100%;
      max-width: 420px;
      border-radius: 0.9rem;
      background: #020617;
      border: 1px solid rgba(55, 65, 81, 0.96);
      box-shadow: 0 26px 60px rgba(0, 0, 0, 0.9);
      overflow: hidden;
    }

    :root[data-theme="light"] .command-panel {
      background: #f9fafb;
      border-color: #e5e7eb;
      box-shadow: 0 26px 60px rgba(15, 23, 42, 0.7);
    }

    .command-header {
      padding: 0.45rem 0.6rem;
      border-bottom: 1px solid rgba(31, 41, 55, 0.96);
      font-size: 0.8rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    :root[data-theme="light"] .command-header {
      border-bottom-color: #e5e7eb;
    }

    .command-body {
      padding: 0.45rem 0.45rem 0.45rem;
      max-height: 260px;
      overflow-y: auto;
    }

    .command-item {
      border-radius: 0.55rem;
      padding: 0.32rem 0.45rem;
      font-size: 0.8rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.6rem;
      cursor: pointer;
      color: var(--text);
    }

    .command-item + .command-item {
      margin-top: 0.1rem;
    }

    .command-item:hover,
    .command-item.active {
      background: rgba(15, 23, 42, 0.96);
    }

    :root[data-theme="light"] .command-item:hover,
    :root[data-theme="light"] .command-item.active {
      background: #e5e7eb;
    }

    .command-label {
      display: flex;
      flex-direction: column;
      gap: 0.05rem;
    }

    .command-meta {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .command-kbd {
      font-size: 0.72rem;
      color: var(--muted);
      display: inline-flex;
      gap: 0.2rem;
      align-items: center;
    }

    /* Footer */

    .footer {
      margin-top: 0.5rem;
      font-size: 0.75rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 0.6rem;
      flex-wrap: wrap;
      padding-top: 0.4rem;
      border-top: 1px solid rgba(31, 41, 55, 0.96);
    }

    :root[data-theme="light"] .footer {
      border-top-color: #e5e7eb;
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div>
        <div class="sidebar-header">
          <div class="sidebar-logo"></div>
          <div>
            <div class="sidebar-title">Mini App Studio</div>
            <div class="sidebar-sub">Single file, multiple tools</div>
          </div>
        </div>

        <div class="sidebar-section-label">Sections</div>
        <nav class="nav-list" id="navList">
          <div class="nav-item active" data-panel-target="data">
            <div class="nav-icon">D</div>
            <div class="nav-text-main">
              <span class="nav-text-label">Data Studio</span>
              <span class="nav-text-sub">Filter, search, sort</span>
            </div>
          </div>
          <div class="nav-item" data-panel-target="cards">
            <div class="nav-icon">C</div>
            <div class="nav-text-main">
              <span class="nav-text-label">Card Board</span>
              <span class="nav-text-sub">Notes saved in browser</span>
            </div>
          </div>
          <div class="nav-item" data-panel-target="text">
            <div class="nav-icon">T</div>
            <div class="nav-text-main">
              <span class="nav-text-label">Text Lab</span>
              <span class="nav-text-sub">Live stats and transforms</span>
            </div>
          </div>
        </nav>
      </div>

      <div class="sidebar-footer">
        <div class="kbd-row">
          <span>Command palette</span>
          <kbd>Ctrl</kbd><span>+</span><kbd>K</kbd>
        </div>
        <button id="themeBtn" class="theme-switch">
          <span class="theme-dot"></span>
          <span id="themeLabel">Dark theme</span>
        </button>
        <div>All logic lives inside this one HTML file.</div>
      </div>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="topbar">
        <div class="topbar-left">
          <div class="topbar-title" id="viewTitle">Data Studio</div>
          <div class="topbar-sub" id="viewDescription">
            Browse a small sample dataset, adjust filters, and see the table
            update instantly. This is entirely front end logic.
          </div>
          <div class="topbar-badges">
            <div class="badge accent">Static hosting</div>
            <div class="badge">Local storage for notes</div>
            <div class="badge">Command palette</div>
          </div>
        </div>
        <div class="topbar-right">
          <div class="pill">
            <span class="pill-dot"></span>
            <span>Single page multi tool project</span>
          </div>
          <div>This can be cloned, forked, or turned into any kind of lab.</div>
        </div>
      </header>

      <section class="panels">
        <!-- Left: main panel that switches -->
        <section class="panel visible" id="panel-data">
          <div class="panel-header">
            <div class="panel-title">Data Studio</div>
            <div class="panel-sub">
              Data is stored in a JavaScript array and rendered as a table with
              sorting and filtering.
            </div>
          </div>

          <div class="panel-content">
            <div class="data-summary-row">
              <div class="data-summary-card">
                <div class="data-summary-label">Items in view</div>
                <div class="data-summary-value" id="summaryCount">0</div>
                <div class="data-summary-meta">
                  Changes when filters or search update the table.
                </div>
              </div>
              <div class="data-summary-card">
                <div class="data-summary-label">Average score</div>
                <div class="data-summary-value" id="summaryAvg">0</div>
                <div class="data-summary-meta">
                  Calculates a mean value from visible rows.
                </div>
              </div>
              <div class="data-summary-card">
                <div class="data-summary-label">Active items</div>
                <div class="data-summary-value" id="summaryActive">0</div>
                <div class="data-summary-meta">
                  Simple check of current filter state.
                </div>
              </div>
            </div>

            <div class="data-toolbar">
              <select id="filterCategory" class="select">
                <option value="all">All categories</option>
                <option value="analytics">Analytics</option>
                <option value="automation">Automation</option>
                <option value="research">Research</option>
                <option value="planning">Planning</option>
              </select>
              <select id="filterStatus" class="select">
                <option value="all">Any status</option>
                <option value="active">Active</option>
                <option value="idle">Idle</option>
                <option value="paused">Paused</option>
              </select>
              <input
                type="text"
                id="searchInput"
                class="search"
                placeholder="Search title text"
              />
              <span class="panel-sub">
                Dataset lives in a constant array and is not loaded from a
                server.
              </span>
            </div>

            <div class="data-table-wrap">
              <table>
                <thead>
                  <tr>
                    <th data-sort="title">
                      Title
                      <span class="sort-indicator" id="sort-title">·</span>
                    </th>
                    <th data-sort="category">
                      Category
                      <span class="sort-indicator" id="sort-category">·</span>
                    </th>
                    <th data-sort="score">
                      Score
                      <span class="sort-indicator" id="sort-score">·</span>
                    </th>
                    <th data-sort="status">
                      Status
                      <span class="sort-indicator" id="sort-status">·</span>
                    </th>
                  </tr>
                </thead>
                <tbody id="dataBody"></tbody>
              </table>
            </div>
          </div>
        </section>

        <section class="panel" id="panel-cards">
          <div class="panel-header">
            <div class="panel-title">Card Board</div>
            <div class="panel-sub">
              Notes are stored in localStorage so they remain between refreshes
              on this device.
            </div>
          </div>
          <div class="panel-content">
            <div class="card-grid" id="cardGrid"></div>

            <form class="note-form" id="noteForm">
              <div>
                <label for="noteTitle">Title</label>
                <input
                  id="noteTitle"
                  type="text"
                  placeholder="Short label for this card"
                />
              </div>
              <div>
                <label for="noteBody">Body</label>
                <textarea
                  id="noteBody"
                  placeholder="More detail, multiple lines are allowed."
                ></textarea>
              </div>
              <div class="note-form-actions">
                <div>
                  <button type="submit" class="btn-main" id="noteSubmit">
                    Save card
                  </button>
                  <button
                    type="button"
                    class="chip-btn"
                    id="noteClearAll"
                    title="Remove all cards"
                  >
                    Clear all
                  </button>
                </div>
                <div class="note-hint">
                  Cards stay local unless cleared. This pattern can be used for
                  any small browser based board.
                </div>
              </div>
            </form>
          </div>
        </section>

        <section class="panel" id="panel-text">
          <div class="panel-header">
            <div class="panel-title">Text Lab</div>
            <div class="panel-sub">
              Text stays in memory only and statistics update on every keypress.
            </div>
          </div>
          <div class="panel-content">
            <div class="text-grid">
              <div class="text-input-wrap">
                <textarea
                  id="textInput"
                  placeholder="Type or paste sample text here to see its statistics and preview."
                ></textarea>
                <div class="text-actions">
                  <button class="chip-action" data-action="upper">
                    Upper case
                  </button>
                  <button class="chip-action" data-action="lower">
                    Lower case
                  </button>
                  <button class="chip-action" data-action="title">
                    Title case
                  </button>
                  <button class="chip-action" data-action="trim">
                    Trim spaces
                  </button>
                  <button class="chip-action" data-action="clear">
                    Clear
                  </button>
                </div>
              </div>
              <div>
                <div class="stats-card">
                  <div><strong>Text statistics</strong></div>
                  <div class="stats-grid">
                    <div class="stat-item">
                      <span class="stat-label">Characters</span>
                      <span class="stat-value" id="statChars">0</span>
                    </div>
                    <div class="stat-item">
                      <span class="stat-label">Words</span>
                      <span class="stat-value" id="statWords">0</span>
                    </div>
                    <div class="stat-item">
                      <span class="stat-label">Lines</span>
                      <span class="stat-value" id="statLines">0</span>
                    </div>
                    <div class="stat-item">
                      <span class="stat-label">Average words per line</span>
                      <span class="stat-value" id="statAvgWords">0</span>
                    </div>
                  </div>
                  <div class="stats-note">
                    The same logic can support small utilities such as word
                    limits, quick formatting helpers, or character budgets.
                  </div>
                  <div class="preview-card" id="previewBox">
                    Output preview will show a compact version of the current
                    text. Only a short excerpt is shown here.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Right: info panel that stays the same -->
        <section class="panel visible" id="panel-info">
          <div class="panel-header">
            <div class="panel-title">About this project</div>
            <div class="panel-sub">
              Everything on this page is client side logic. No build step, no
              server framework.
            </div>
          </div>
          <div class="panel-content">
            <p>
              This file shows how far a single
              <code>index.html</code>
              can go when it is backed by GitHub Pages. It includes navigation,
              multiple tools, local storage usage, a command palette, and a
              basic responsive layout.
            </p>
            <p>
              The same pattern can be reused for any experiment:
              dashboards, planners, reference tools, or small utilities that run
              directly in the browser.
            </p>
            <p>
              The project can grow by splitting CSS or JavaScript into dedicated
              files or importing libraries when needed. Starting with a single
              file keeps the structure simple while still being expressive.
            </p>
          </div>
          <footer class="footer">
            <div id="footerYear"></div>
            <div>Shortcut hint: open the command palette with Ctrl + K.</div>
          </footer>
        </section>
      </section>
    </main>
  </div>

  <!-- Command palette -->
  <div class="command-overlay" id="commandOverlay" aria-hidden="true">
    <div class="command-panel">
      <div class="command-header">
        <div>Command palette</div>
        <div>Press Esc to close</div>
      </div>
      <div class="command-body" id="commandList">
        <!-- Items added by script -->
      </div>
    </div>
  </div>

  <script>
    const root = document.documentElement;
    const themeBtn = document.getElementById("themeBtn");
    const themeLabel = document.getElementById("themeLabel");

    function setTheme(theme) {
      root.setAttribute("data-theme", theme);
      themeLabel.textContent = theme === "light" ? "Light theme" : "Dark theme";
      localStorage.setItem("miniapp-theme", theme);
    }

    const storedTheme = localStorage.getItem("miniapp-theme");
    if (storedTheme === "light" || storedTheme === "dark") {
      setTheme(storedTheme);
    } else {
      setTheme("dark");
    }

    themeBtn.addEventListener("click", () => {
      const current =
        root.getAttribute("data-theme") === "light" ? "light" : "dark";
      setTheme(current === "light" ? "dark" : "light");
    });

    // Panel switching
    const navList = document.getElementById("navList");
    const panels = {
      data: document.getElementById("panel-data"),
      cards: document.getElementById("panel-cards"),
      text: document.getElementById("panel-text")
    };
    const viewTitle = document.getElementById("viewTitle");
    const viewDescription = document.getElementById("viewDescription");

    const viewCopy = {
      data: {
        title: "Data Studio",
        description:
          "Browse a sample dataset, apply filters, and sort by multiple fields. All of it is calculated in the browser."
      },
      cards: {
        title: "Card Board",
        description:
          "Create, update, and remove notes that are stored locally. The pattern is a base for many simple boards."
      },
      text: {
        title: "Text Lab",
        description:
          "Run quick transforms and see live statistics. Handy for checking length, density, and formatting."
      }
    };

    function setActivePanel(key) {
      Object.keys(panels).forEach((k) => {
        panels[k].style.display = k === key ? "block" : "none";
        if (k === key) {
          panels[k].classList.add("visible");
        }
      });
      navList.querySelectorAll(".nav-item").forEach((item) => {
        const target = item.getAttribute("data-panel-target");
        item.classList.toggle("active", target === key);
      });
      const copy = viewCopy[key];
      if (copy) {
        viewTitle.textContent = copy.title;
        viewDescription.textContent = copy.description;
      }
    }

    setActivePanel("data");

    navList.addEventListener("click", (event) => {
      const item = event.target.closest(".nav-item");
      if (!item) return;
      const target = item.getAttribute("data-panel-target");
      if (!target) return;
      setActivePanel(target);
    });

    // Reveal panels
    document.querySelectorAll(".panel").forEach((panel) => {
      requestAnimationFrame(() => {
        panel.classList.add("visible");
      });
    });

    // Data Studio logic
    const sampleData = [
      {
        title: "Weekly report outline",
        category: "planning",
        score: 82,
        status: "active"
      },
      {
        title: "Experiment log",
        category: "research",
        score: 74,
        status: "idle"
      },
      {
        title: "Automation checklist",
        category: "automation",
        score: 91,
        status: "active"
      },
      {
        title: "Simple dashboard mock",
        category: "analytics",
        score: 67,
        status: "paused"
      },
      {
        title: "Idea backlog",
        category: "planning",
        score: 88,
        status: "active"
      },
      {
        title: "Data snapshot notes",
        category: "analytics",
        score: 79,
        status: "idle"
      },
      {
        title: "Research reading queue",
        category: "research",
        score: 92,
        status: "active"
      },
      {
        title: "Automation test cases",
        category: "automation",
        score: 71,
        status: "paused"
      }
    ];

    let currentSortKey = "title";
    let sortDirection = "asc";

    const filterCategory = document.getElementById("filterCategory");
    const filterStatus = document.getElementById("filterStatus");
    const searchInput = document.getElementById("searchInput");
    const dataBody = document.getElementById("dataBody");
    const summaryCount = document.getElementById("summaryCount");
    const summaryAvg = document.getElementById("summaryAvg");
    const summaryActive = document.getElementById("summaryActive");

    function applyFilters() {
      const category = filterCategory.value;
      const status = filterStatus.value;
      const search = searchInput.value.toLowerCase().trim();

      let rows = sampleData.slice();

      if (category !== "all") {
        rows = rows.filter((item) => item.category === category);
      }
      if (status !== "all") {
        rows = rows.filter((item) => item.status === status);
      }
      if (search) {
        rows = rows.filter((item) =>
          item.title.toLowerCase().includes(search)
        );
      }

      rows.sort((a, b) => {
        const aVal = a[currentSortKey];
        const bVal = b[currentSortKey];
        if (typeof aVal === "number" && typeof bVal === "number") {
          return sortDirection === "asc" ? aVal - bVal : bVal - aVal;
        }
        const aStr = String(aVal).toLowerCase();
        const bStr = String(bVal).toLowerCase();
        if (aStr < bStr) return sortDirection === "asc" ? -1 : 1;
        if (aStr > bStr) return sortDirection === "asc" ? 1 : -1;
        return 0;
      });

      renderTable(rows);
      updateSummary(rows);
    }

    function renderTable(rows) {
      dataBody.innerHTML = "";
      rows.forEach((item) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${item.title}</td>
          <td><span class="tag">${item.category}</span></td>
          <td>${item.score}</td>
          <td>${renderStatusPill(item.status)}</td>
        `;
        dataBody.appendChild(tr);
      });
    }

    function renderStatusPill(status) {
      const base = "pill-status";
      if (status === "active") {
        return `<span class="${base} active">Active</span>`;
      }
      if (status === "paused") {
        return `<span class="${base} paused">Paused</span>`;
      }
      return `<span class="${base} idle">Idle</span>`;
    }

    function updateSummary(rows) {
      const count = rows.length;
      summaryCount.textContent = count;
      if (count === 0) {
        summaryAvg.textContent = 0;
        summaryActive.textContent = 0;
        return;
      }
      const total = rows.reduce((sum, item) => sum + item.score, 0);
      const avg = total / count;
      const activeCount = rows.filter((item) => item.status === "active").length;
      summaryAvg.textContent = avg.toFixed(1);
      summaryActive.textContent = activeCount;
    }

    filterCategory.addEventListener("change", applyFilters);
    filterStatus.addEventListener("change", applyFilters);
    searchInput.addEventListener("input", applyFilters);

    document.querySelectorAll("th[data-sort]").forEach((th) => {
      th.addEventListener("click", () => {
        const key = th.getAttribute("data-sort");
        if (currentSortKey === key) {
          sortDirection = sortDirection === "asc" ? "desc" : "asc";
        } else {
          currentSortKey = key;
          sortDirection = "asc";
        }
        updateSortIndicators();
        applyFilters();
      });
    });

    function updateSortIndicators() {
      document.querySelectorAll("th[data-sort]").forEach((th) => {
        const key = th.getAttribute("data-sort");
        const span = th.querySelector(".sort-indicator");
        if (!span) return;
        if (key === currentSortKey) {
          span.textContent = sortDirection === "asc" ? "↑" : "↓";
        } else {
          span.textContent = "·";
        }
      });
    }

    updateSortIndicators();
    applyFilters();

    // Card Board logic
    const cardGrid = document.getElementById("cardGrid");
    const noteForm = document.getElementById("noteForm");
    const noteTitle = document.getElementById("noteTitle");
    const noteBody = document.getElementById("noteBody");
    const noteClearAll = document.getElementById("noteClearAll");

    let notes = [];
    let editingId = null;

    function loadNotes() {
      try {
        const stored = localStorage.getItem("miniapp-notes");
        if (stored) {
          const parsed = JSON.parse(stored);
          if (Array.isArray(parsed)) {
            notes = parsed;
          }
        }
      } catch (err) {
        console.error("Failed to load notes", err);
      }
    }

    function saveNotes() {
      try {
        localStorage.setItem("miniapp-notes", JSON.stringify(notes));
      } catch (err) {
        console.error("Failed to save notes", err);
      }
    }

    function renderNotes() {
      cardGrid.innerHTML = "";
      if (notes.length === 0) {
        const empty = document.createElement("div");
        empty.className = "note-card";
        empty.innerHTML =
          '<div class="note-title">No cards yet</div><div class="note-body">Add a new card using the form below. Data stays on this device only.</div>';
        cardGrid.appendChild(empty);
        return;
      }
      notes.forEach((note) => {
        const card = document.createElement("div");
        card.className = "note-card";
        card.innerHTML = `
          <div class="note-title">${note.title || "Untitled card"}</div>
          <div class="note-body">${
            note.body ? escapeHtml(note.body) : "(Empty body)"
          }</div>
          <div class="note-meta">
            <span>${note.updated}</span>
            <div class="note-actions">
              <button class="chip-btn" data-id="${note.id}" data-action="edit">Edit</button>
              <button class="chip-btn danger" data-id="${note.id}" data-action="delete">Delete</button>
            </div>
          </div>
        `;
        cardGrid.appendChild(card);
      });
    }

    function escapeHtml(text) {
      return text
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }

    cardGrid.addEventListener("click", (event) => {
      const btn = event.target.closest("button[data-action]");
      if (!btn) return;
      const id = btn.getAttribute("data-id");
      const action = btn.getAttribute("data-action");
      if (action === "delete") {
        notes = notes.filter((note) => note.id !== id);
        saveNotes();
        renderNotes();
      } else if (action === "edit") {
        const note = notes.find((n) => n.id === id);
        if (!note) return;
        editingId = note.id;
        noteTitle.value = note.title;
        noteBody.value = note.body;
        document.getElementById("noteSubmit").textContent = "Update card";
      }
    });

    noteForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const title = noteTitle.value.trim();
      const body = noteBody.value.trim();
      if (!title && !body) return;

      const now = new Date();
      const stamp =
        now.getFullYear() +
        "-" +
        String(now.getMonth() + 1).padStart(2, "0") +
        "-" +
        String(now.getDate()).padStart(2, "0") +
        " " +
        String(now.getHours()).padStart(2, "0") +
        ":" +
        String(now.getMinutes()).padStart(2, "0");

      if (editingId) {
        const index = notes.findIndex((n) => n.id === editingId);
        if (index !== -1) {
          notes[index].title = title;
          notes[index].body = body;
          notes[index].updated = stamp;
        }
      } else {
        notes.unshift({
          id: "note-" + Date.now(),
          title,
          body,
          updated: stamp
        });
      }

      editingId = null;
      noteTitle.value = "";
      noteBody.value = "";
      document.getElementById("noteSubmit").textContent = "Save card";
      saveNotes();
      renderNotes();
    });

    noteClearAll.addEventListener("click", () => {
      if (notes.length === 0) return;
      const confirmed = confirm("Clear all cards stored in this browser?");
      if (!confirmed) return;
      notes = [];
      saveNotes();
      renderNotes();
    });

    loadNotes();
    renderNotes();

    // Text Lab logic
    const textInput = document.getElementById("textInput");
    const statChars = document.getElementById("statChars");
    const statWords = document.getElementById("statWords");
    const statLines = document.getElementById("statLines");
    const statAvgWords = document.getElementById("statAvgWords");
    const previewBox = document.getElementById("previewBox");

    function countWords(str) {
      const trimmed = str.trim();
      if (!trimmed) return 0;
      return trimmed.split(/\s+/).filter(Boolean).length;
    }

    function updateTextStats() {
      const text = textInput.value;
      const chars = text.length;
      const lines = text.split(/\r\n|\r|\n/).length;
      const words = countWords(text);
      const avg = lines > 0 ? (words / lines).toFixed(1) : "0";

      statChars.textContent = chars;
      statWords.textContent = words;
      statLines.textContent = lines;
      statAvgWords.textContent = avg;

      const preview = text.length > 160 ? text.slice(0, 160) + "…" : text;
      previewBox.textContent =
        preview || "Output preview will show a compact version of the current text.";
    }

    textInput.addEventListener("input", updateTextStats);

    document.querySelectorAll(".chip-action").forEach((btn) => {
      btn.addEventListener("click", () => {
        const action = btn.getAttribute("data-action");
        let text = textInput.value;
        if (action === "upper") {
          textInput.value = text.toUpperCase();
        } else if (action === "lower") {
          textInput.value = text.toLowerCase();
        } else if (action === "title") {
          textInput.value = text
            .toLowerCase()
            .split(/\s+/)
            .map((word) =>
              word ? word[0].toUpperCase() + word.slice(1) : ""
            )
            .join(" ");
        } else if (action === "trim") {
          textInput.value = text.replace(/\s+/g, " ").trim();
        } else if (action === "clear") {
          textInput.value = "";
        }
        updateTextStats();
      });
    });

    updateTextStats();

    // Command palette
    const commandOverlay = document.getElementById("commandOverlay");
    const commandList = document.getElementById("commandList");

    const commands = [
      {
        id: "go-data",
        label: "Switch to Data Studio",
        description: "View and filter the sample dataset",
        action: () => setActivePanel("data")
      },
      {
        id: "go-cards",
        label: "Switch to Card Board",
        description: "Create and review local cards",
        action: () => setActivePanel("cards")
      },
      {
        id: "go-text",
        label: "Switch to Text Lab",
        description: "Inspect and transform text",
        action: () => setActivePanel("text")
      },
      {
        id: "clear-cards",
        label: "Clear all cards",
        description: "Remove every stored card from localStorage",
        action: () => {
          if (notes.length === 0) return;
          const ok = confirm("Clear all cards stored in this browser?");
          if (!ok) return;
          notes = [];
          saveNotes();
          renderNotes();
        }
      },
      {
        id: "toggle-theme",
        label: "Toggle theme",
        description: "Switch between dark and light modes",
        action: () => {
          const current =
            root.getAttribute("data-theme") === "light" ? "light" : "dark";
          setTheme(current === "light" ? "dark" : "light");
        }
      }
    ];

    function renderCommands() {
      commandList.innerHTML = "";
      commands.forEach((cmd) => {
        const item = document.createElement("div");
        item.className = "command-item";
        item.setAttribute("data-command-id", cmd.id);
        item.innerHTML = `
          <div class="command-label">
            <div>${cmd.label}</div>
            <div class="command-meta">${cmd.description}</div>
          </div>
          <div class="command-kbd">Enter</div>
        `;
        commandList.appendChild(item);
      });
    }

    renderCommands();

    function openCommandPalette() {
      commandOverlay.classList.add("visible");
      commandOverlay.setAttribute("aria-hidden", "false");
      commandOverlay.querySelector(".command-item")?.classList.add("active");
    }

    function closeCommandPalette() {
      commandOverlay.classList.remove("visible");
      commandOverlay.setAttribute("aria-hidden", "true");
    }

    commandList.addEventListener("click", (event) => {
      const item = event.target.closest(".command-item");
      if (!item) return;
      const id = item.getAttribute("data-command-id");
      const cmd = commands.find((c) => c.id === id);
      if (!cmd) return;
      cmd.action();
      closeCommandPalette();
    });

    document.addEventListener("keydown", (event) => {
      const isMac = navigator.platform.toUpperCase().indexOf("MAC") >= 0;
      if (
        (isMac && event.metaKey && event.key.toLowerCase() === "k") ||
        (!isMac && event.ctrlKey && event.key.toLowerCase() === "k")
      ) {
        event.preventDefault();
        if (commandOverlay.classList.contains("visible")) {
          closeCommandPalette();
        } else {
          openCommandPalette();
        }
      } else if (event.key === "Escape") {
        closeCommandPalette();
      }
    });

    commandOverlay.addEventListener("click", (event) => {
      if (event.target === commandOverlay) {
        closeCommandPalette();
      }
    });

    // Footer year
    const footerYear = document.getElementById("footerYear");
    footerYear.textContent = new Date().getFullYear() + " • Mini App Studio";
  </script>
</body>
</html>
